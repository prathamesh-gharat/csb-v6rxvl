(function(t){function e(e){for(var r,n,i=e[0],l=e[1],u=e[2],c=0,p=[];c<i.length;c++)n=i[c],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&p.push(a[n][0]),a[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],r=!0,i=1;i<o.length;i++){var l=o[i];0!==a[l]&&(r=!1)}r&&(s.splice(e--,1),t=n(n.s=o[0]))}return t}var r={},a={app:0},s=[];function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=r,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=l;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"56d7":function(t,e,o){"use strict";o.r(e);var r=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shadow-lg p-4",attrs:{id:"app"}},[o("h1",{staticClass:"font-bold"},[t._v("Kapiva - Add to cart link generator")]),t.products?t._e():o("div",[t._v("Loading products...")]),t.products?o("div",[o("div",{staticClass:"mb-4 text-xs"},[t._v(" There are "+t._s(t.products.length)+" products loaded ")]),0==t.listItems.length?o("div",{staticClass:"no-items text-gray-400 border-y py-4"},[t._v(" You have not added any items. ")]):t._e(),t.listItems.length>0?o("div",{staticClass:"list-items mb-4 py-4 border-y"},t._l(t.listItems,(function(e){return o("div",{key:e.id,staticClass:"item flex mb-2"},[o("v-select",{staticClass:"shadow appearance-none border rounded flex-1 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{options:t.products,label:"title",disabled:!0,clearable:!1,searchable:!1,placeholder:"Select Product"},model:{value:e.product,callback:function(o){t.$set(e,"product",o)},expression:"item.product"}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"shadow appearance-none border rounded w-16 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ml-4",attrs:{placeholder:"Qty.",type:"number",min:"1"},domProps:{value:e.qty},on:{input:function(o){o.target.composing||t.$set(e,"qty",o.target.value)}}}),o("button",{staticClass:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-4",attrs:{type:"button"},on:{click:function(o){return t.deleteFromListItems(e.product.id)}}},[o("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"}},[o("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})])])],1)})),0):t._e(),o("form",{staticClass:"flex mb-4 py-4 border-b",on:{submit:function(e){return e.preventDefault(),t.onAddSubmit.apply(null,arguments)}}},[o("v-select",{staticClass:"shadow appearance-none border rounded flex-1 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{options:t.selectableProducts,label:"title",placeholder:"Select Product",required:""},scopedSlots:t._u([{key:"search",fn:function(e){var r=e.attributes,a=e.events;return[o("input",t._g(t._b({staticClass:"vs__search",attrs:{required:!t.addItem.product}},"input",r,!1),a))]}}],null,!1,1597664038),model:{value:t.addItem.product,callback:function(e){t.$set(t.addItem,"product",e)},expression:"addItem.product"}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.addItem.qty,expression:"addItem.qty"}],staticClass:"shadow appearance-none border rounded w-16 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ml-4",attrs:{placeholder:"Qty.",type:"number",min:"1"},domProps:{value:t.addItem.qty},on:{input:function(e){e.target.composing||t.$set(t.addItem,"qty",e.target.value)}}}),o("button",{staticClass:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded ml-4",attrs:{type:"submit"}},[o("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"}},[o("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"}})])])],1),o("div",{staticClass:"flex gap-4 extra-params mb-4 pb-4 border-b"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.extraParams.utm_source,expression:"extraParams.utm_source"}],staticClass:"shadow appearance-none border rounded flex-1 w-1/2 py-2 px-4 h-12 bg-blue-50 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{placeholder:"UTM Source",type:"text",min:"1"},domProps:{value:t.extraParams.utm_source},on:{input:function(e){e.target.composing||t.$set(t.extraParams,"utm_source",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.extraParams.coupon,expression:"extraParams.coupon"}],staticClass:"shadow appearance-none border rounded flex-1 w-1/2 py-2 px-4 h-12 bg-blue-50 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{placeholder:"Coupon",type:"text",min:"1"},domProps:{value:t.extraParams.coupon},on:{input:function(e){e.target.composing||t.$set(t.extraParams,"coupon",e.target.value)}}})]),o("div",{staticClass:"flex max-w-full"},[o("input",{staticClass:"shadow appearance-none border rounded-l flex-1 py-2 px-4 h-12 bg-blue-50 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{placeholder:"Add to cart link will appear here",readonly:"",type:"text",min:"1"},domProps:{value:t.atcLink}}),o("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-r",attrs:{type:"button"},on:{click:function(e){return t.copy(t.atcLink)}}},[o("svg",{staticClass:"h-8 w-8",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"}},[o("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"}})])])])]):t._e()])},s=[],n=(o("6dfc"),o("bc3a")),i=o.n(n),l=o("4a7a"),u=o.n(l),d=o("f904"),c=o.n(d),p={name:"App",components:{"v-select":u.a},data:function(){return{products:[],listItems:[],addItem:{product:null,qty:1},extraParams:{utm_source:"",coupon:""}}},computed:{selectableProducts(){return this.listItems.length<1?this.products:this.products.filter(t=>!this.listItems.map(t=>t.product.id).includes(t.id))},atcLink(){var t={};this.listItems.length>0&&(t.atc=this.listItems.map(t=>t.product.id+(t.qty>1?":"+t.qty:"")).join(","));var e=new URL("https://staging.kapiva.in/checkout-custom/");return e.search=[...Object.keys(t).map(e=>e+"="+t[e]),...Object.keys(this.extraParams).filter(t=>this.extraParams[t]).map(t=>t+"="+this.extraParams[t])].join("&"),e.toString()}},methods:{async fetchProducts(){const t=await i.a.get("https://product-feeds.kapiva.in/products-staging.php");this.products=t.data},resetAddItem(){this.addItem.product=null,this.addItem.qty=1},onAddSubmit(){this.listItems.push({product:this.addItem.product,qty:this.addItem.qty}),this.resetAddItem()},deleteFromListItems(t){const e=this.listItems.map(t=>t.product.id).indexOf(t);-1!==e&&this.listItems.splice(e,1)},copy(t){c()(t)}},created(){this.fetchProducts()}},m=p,h=(o("034f"),o("2877")),f=Object(h["a"])(m,a,s,!1,null,null,null),v=f.exports;r["a"].config.productionTip=!1,new r["a"]({render:t=>t(v)}).$mount("#app")},"85ec":function(t,e,o){}});
//# sourceMappingURL=app.eb2e5162.js.map